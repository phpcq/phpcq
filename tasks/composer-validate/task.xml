<project name="phpcq.task.composer-validate">
    <import file="../macrodefs.xml" />
    <property file="${phpcq.basedir}/tasks/composer-validate/default.properties"/>
    <target name="-check-composer-validate.is-available" unless="phpcq.task.composer-validate.bin">
        <find-file-in-path
            name="composer"
            property="phpcq.task.composer-validate.bin"
            alternativepath="${phpcq.bin.composer-validate}"
        />
    </target>
    <target name="composer-validate" depends="-check-composer-validate.is-available" if="phpcq.task.composer-validate.bin">
        <echo>${phpcq.task.composer-validate.bin}</echo>
        <exec dir="${basedir}" executable="${php.binary}" failonerror="true" taskname="composer-validate">
            <arg value="${phpcq.task.composer-validate.bin}"/>
            <arg value="validate"/>
        </exec>
    </target>
</project>
